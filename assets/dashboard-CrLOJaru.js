import{r as s,t as j,g as d,j as e,h as l}from"./index-BH7dFSJV.js";const N=function(){const[r,x]=s.useState([]),[c,m]=s.useState([]),[g,n]=s.useState(!0),[a,i]=s.useState(null),o=r.reduce((t,u)=>t+u.duration,0);s.useEffect(()=>{n(!0),Promise.all([p(),h()]).then(()=>n(!1))},[]),s.useEffect(()=>{a&&a.length>0&&j(a)},[a]);const h=async()=>{try{const t=await d.getActivities({page:1,pageSize:100,start_date:new Date().toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]});x(t.data),i(null)}catch{i("Failed to load activities")}},p=async()=>{try{const t=await d.getActivities({page:1,pageSize:5});m(t.data),i(null)}catch{i("Failed to load activities")}};return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border bg-card p-6 text-card-foreground shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Today's Activities"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:r.length})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-6 text-card-foreground shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Total Time Today"}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:o>0?l(o,"s"):"-"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Activities"}),g?e.jsx("p",{children:"Loading..."}):c.length>0?e.jsx("div",{className:"space-y-4",children:c.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.description}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.category.name," â€¢ ",l(t.duration,"s")]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.date).toLocaleDateString()})]},t.id))}):e.jsx("p",{className:"text-gray-500",children:"No recent activities"})]})]})};export{N as component};
